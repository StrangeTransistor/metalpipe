"use strict";function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _toConsumableArray(a){return _arrayWithoutHoles(a)||_iterableToArray(a)||_unsupportedIterableToArray(a)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(a,b){if(!a)return;if("string"==typeof a)return _arrayLikeToArray(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor)c=a.constructor.name;if("Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return _arrayLikeToArray(a,b)}function _iterableToArray(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}function _arrayWithoutHoles(a){if(Array.isArray(a))return _arrayLikeToArray(a)}function _arrayLikeToArray(a,b){if(null==b||b>a.length)b=a.length;for(var c=0,d=Array(b);c<b;c++){d[c]=a[c]}return d}(function(){"use strict";var a=function factory(){return function(){}}();function b(a){var c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[];return function(){for(var d=arguments.length,e=Array(d),f=0;f<d;f++){e[f]=arguments[f]}return function(c){return c.length>=a.length?a.apply(void 0,_toConsumableArray(c)):b(a,c)}([].concat(_toConsumableArray(c),e))}}var c="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function d(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}var f=d,g=e;if("function"==typeof c.setTimeout){f=setTimeout}if("function"==typeof c.clearTimeout){g=clearTimeout}function h(a){if(f===setTimeout){return setTimeout(a,0)}if((f===d||!f)&&setTimeout){f=setTimeout;return setTimeout(a,0)}try{return f(a,0)}catch(b){try{return f.call(null,a,0)}catch(b){return f.call(this,a,0)}}}function i(a){if(g===clearTimeout){return clearTimeout(a)}if((g===e||!g)&&clearTimeout){g=clearTimeout;return clearTimeout(a)}try{return g(a)}catch(b){try{return g.call(null,a)}catch(b){return g.call(this,a)}}}var j=[],k=!1,l,m=-1;function n(){if(!k||!l){return}k=!1;if(l.length){j=l.concat(j)}else{m=-1}if(j.length){o()}}function o(){if(k){return}var a=h(n);k=!0;var b=j.length;while(b){l=j;j=[];while(++m<b){if(l){l[m].run()}}m=-1;b=j.length}l=null;k=!1;i(a)}function p(a,b){this.fun=a;this.array=b}p.prototype.run=function(){this.fun.apply(null,this.array)};function q(){}var r=c.performance||{},s=r.now||r.mozNow||r.msNow||r.oNow||r.webkitNow||function(){return new Date().getTime()};var t=new Date;var u={};(function(a){(function(a){var b=/\S/,c=/\"/g,d=/\n/g,e=/\r/g,f=/\\/g,g=/\u2028/,h=/\u2029/;a.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12};a.scan=function e(c,d){var f=c.length,g=0,h=1,l=2,m=0,n=null,o=null,p="",q=[],r=!1,s=0,t=0,u="{{",v="}}";function w(){if(0<p.length){q.push({tag:"_t",text:new String(p)});p=""}}function x(){for(var c=!0,d=t;d<q.length;d++){c=a.tags[q[d].tag]<a.tags._v||"_t"==q[d].tag&&null===q[d].text.match(b);if(!c){return!1}}return c}function y(a,b){w();if(a&&x()){for(var c=t,d;c<q.length;c++){if(q[c].text){if((d=q[c+1])&&">"==d.tag){d.indent=q[c].text.toString()}q.splice(c,1)}}}else if(!b){q.push({tag:"\n"})}r=!1;t=q.length}function z(a,b){var c="="+v,d=a.indexOf(c,b),e=j(a.substring(a.indexOf("=",b)+1,d)).split(" ");u=e[0];v=e[e.length-1];return d+c.length-1}if(d){d=d.split(" ");u=d[0];v=d[1]}for(s=0;s<f;s++){if(m==0){if(k(u,c,s)){--s;w();m=1}else{if("\n"==c.charAt(s)){y(r)}else{p+=c.charAt(s)}}}else if(m==1){s+=u.length-1;o=a.tags[c.charAt(s+1)];n=o?c.charAt(s+1):"_v";if("="==n){s=z(c,s);m=0}else{if(o){s++}m=2}r=s}else{if(k(v,c,s)){q.push({tag:n,n:j(p),otag:u,ctag:v,i:"/"==n?r-u.length:s+v.length});p="";s+=v.length-1;m=0;if("{"==n){if("}}"==v){s++}else{i(q[q.length-1])}}}else{p+=c.charAt(s)}}}y(r,!0);return q};function i(a){if("}"===a.n.substr(a.n.length-1)){a.n=a.n.substring(0,a.n.length-1)}}function j(a){if(a.trim){return a.trim()}return a.replace(/^\s*|\s*$/g,"")}function k(a,b,c){if(b.charAt(c)!=a.charAt(0)){return!1}for(var d=1,e=a.length;d<e;d++){if(b.charAt(c+d)!=a.charAt(d)){return!1}}return!0}var l={_t:!0,"\n":!0,$:!0,"/":!0};function m(b,c,d,e){var f=[],g=null,h=null,i=null;h=d[d.length-1];while(0<b.length){i=b.shift();if(h&&"<"==h.tag&&!(i.tag in l)){throw new Error("Illegal content in < super tag.")}if(a.tags[i.tag]<=a.tags.$||n(i,e)){d.push(i);i.nodes=m(b,i.tag,d,e)}else if("/"==i.tag){if(0===d.length){throw new Error("Closing tag without opener: /"+i.n)}g=d.pop();if(i.n!=g.n&&!o(i.n,g.n,e)){throw new Error("Nesting error: "+g.n+" vs. "+i.n)}g.end=i.i;return f}else if("\n"==i.tag){i.last=0==b.length||"\n"==b[0].tag}f.push(i)}if(0<d.length){throw new Error("missing closing tag: "+d.pop().n)}return f}function n(a,b){for(var c=0,d=b.length;c<d;c++){if(b[c].o==a.n){a.tag="#";return!0}}}function o(a,b,c){for(var d=0,e=c.length;d<e;d++){if(c[d].c==a&&c[d].o==b){return!0}}}function p(a){var b=[];for(var c in a){b.push("\""+s(c)+"\": function(c,p,t,i) {"+a[c]+"}")}return"{ "+b.join(",")+" }"}function q(a){var b=[];for(var c in a.partials){b.push("\""+s(c)+"\":{name:\""+s(a.partials[c].name)+"\", "+q(a.partials[c])+"}")}return"partials: {"+b.join(",")+"}, subs: "+p(a.subs)}a.stringify=function(b,c,d){return"{code: function (c,p,i) { "+a.wrapMain(b.code)+" },"+q(b)+"}"};var r=0;a.generate=function(b,c,d){r=0;var e={code:"",subs:{},partials:{}};a.walk(b,e);if(d.asString){return this.stringify(e,c,d)}return this.makeTemplate(e,c,d)};a.wrapMain=function(a){return"var t=this;t.b(i=i||\"\");"+a+"return t.fl();"};a.template=a.Template;a.makeTemplate=function(a,b,c){var d=this.makePartials(a);d.code=new Function("c","p","i",this.wrapMain(a.code));return new this.template(d,b,this,c)};a.makePartials=function(a){var b,c={subs:{},partials:a.partials,name:a.name};for(b in c.partials){c.partials[b]=this.makePartials(c.partials[b])}for(b in a.subs){c.subs[b]=new Function("c","p","t","i",a.subs[b])}return c};function s(a){return a.replace(f,"\\\\").replace(c,"\\\"").replace(d,"\\n").replace(e,"\\r").replace(g,"\\u2028").replace(h,"\\u2029")}function t(a){return~a.indexOf(".")?"d":"f"}function u(a,b){var c="<"+(b.prefix||""),d=c+a.n+r++;b.partials[d]={name:a.n,partials:{}};b.code+="t.b(t.rp(\""+s(d)+"\",c,p,\""+(a.indent||"")+"\"));";return d}a.codegen={"#":function _(b,c){c.code+="if(t.s(t."+t(b.n)+"(\""+s(b.n)+"\",c,p,1),c,p,0,"+b.i+","+b.end+",\""+b.otag+" "+b.ctag+"\")){t.rs(c,p,function(c,p,t){";a.walk(b.nodes,c);c.code+="});c.pop();}"},"^":function _(b,c){c.code+="if(!t.s(t."+t(b.n)+"(\""+s(b.n)+"\",c,p,1),c,p,1,0,0,\"\")){";a.walk(b.nodes,c);c.code+="};"},">":u,"<":function _(b,c){var d={partials:{},code:"",subs:{},inPartial:!0};a.walk(b.nodes,d);var e=c.partials[u(b,c)];e.subs=d.subs;e.partials=d.partials},$:function $(b,c){var d={subs:{},code:"",partials:c.partials,prefix:b.n};a.walk(b.nodes,d);c.subs[b.n]=d.code;if(!c.inPartial){c.code+="t.sub(\""+s(b.n)+"\",c,p,i);"}},"\n":function _(a,b){b.code+=w("\"\\n\""+(a.last?"":" + i"))},_v:function _v(a,b){b.code+="t.b(t.v(t."+t(a.n)+"(\""+s(a.n)+"\",c,p,0)));"},_t:function _t(a,b){b.code+=w("\""+s(a.text)+"\"")},"{":v,"&":v};function v(a,b){b.code+="t.b(t.t(t."+t(a.n)+"(\""+s(a.n)+"\",c,p,0)));"}function w(a){return"t.b("+a+");"}a.walk=function(b,c){for(var d,e=0,f=b.length;e<f;e++){d=a.codegen[b[e].tag];d&&d(b[e],c)}return c};a.parse=function(a,b,c){c=c||{};return m(a,"",[],c.sectionTags||[])};a.cache={};a.cacheKey=function(a,b){return[a,!!b.asString,!!b.disableLambda,b.delimiters,!!b.modelGet].join("||")};a.compile=function(b,c){c=c||{};var d=a.cacheKey(b,c),e=this.cache[d];if(e){var f=e.partials;for(var g in f){delete f[g].instance}return e}e=this.generate(this.parse(this.scan(b,c.delimiters),b,c),b,c);return this.cache[d]=e}})(a)})(u);var v={};(function(a){(function(a){a.Template=function(a,b,c,d){a=a||{};this.r=a.code||this.r;this.c=c;this.options=d||{};this.text=b||"";this.partials=a.partials||{};this.subs=a.subs||{};this.buf=""};a.Template.prototype={r:function r(a,b,c){return""},v:k,t:j,render:function d(a,b,c){return this.ri([a],b||{},c)},ri:function ri(a,b,c){return this.r(a,b,c)},ep:function ep(a,b){var d=this.partials[a],e=b[d.name];if(d.instance&&d.base==e){return d.instance}this.partials[a].base=e;if(d.subs){if(!b.stackText)b.stackText={};for(key in d.subs){if(!b.stackText[key]){b.stackText[key]=this.activeSub!==void 0&&b.stackText[this.activeSub]?b.stackText[this.activeSub]:this.text}}e=c(e,d.subs,d.partials,this.stackSubs,this.stackPartials,b.stackText)}this.partials[a].instance=e;return e},rp:function rp(a,b,c,d){var e=this.ep(a,c);if(!e){return""}return e.ri(b,c,d)},rs:function rs(a,b,c){var d=a[a.length-1];if(!l(d)){c(a,b,this);return}for(var e=0;e<d.length;e++){a.push(d[e]);c(a,b,this);a.pop()}},s:function s(a,b,c,d,e,f,g){var h;if(l(a)&&0===a.length){return!1}if("function"==typeof a){a=this.ms(a,b,c,d,e,f,g)}h=!!a;if(!d&&h&&b){b.push("object"==_typeof(a)?a:b[b.length-1])}return h},d:function d(a,c,d,e){var f,g=a.split("."),h=this.f(g[0],c,d,e),j=this.options.modelGet,k=null;if("."===a&&l(c[c.length-2])){h=c[c.length-1]}else{for(var m=1;m<g.length;m++){f=b(g[m],h,j);if(f!==void 0){k=h;h=f}else{h=""}}}if(e&&!h){return!1}if(!e&&"function"==typeof h){c.push(k);h=this.mv(h,c,d);c.pop()}return h},f:function f(a,c,d,e){for(var f=!1,g=null,h=!1,j=this.options.modelGet,k=c.length-1;0<=k;k--){g=c[k];f=b(a,g,j);if(f!==void 0){h=!0;break}}if(!h){return e?!1:""}if(!e&&"function"==typeof f){f=this.mv(f,c,d)}return f},ls:function ls(a,b,c,d,e){var f=this.options.delimiters;this.options.delimiters=e;this.b(this.ct(j(a.call(b,d)),b,c));this.options.delimiters=f;return!1},ct:function ct(a,b,c){if(this.options.disableLambda){throw new Error("Lambda features disabled.")}return this.c.compile(a,this.options).render(b,c)},b:function b(a){this.buf+=a},fl:function fl(){var a=this.buf;this.buf="";return a},ms:function ms(a,b,c,d,e,f,g){var h,i=b[b.length-1],j=a.call(i);if("function"==typeof j){if(d){return!0}else{h=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text;return this.ls(j,i,c,h.substring(e,f),g)}}return j},mv:function mv(a,b,c){var d=b[b.length-1],e=a.call(d);if("function"==typeof e){return this.ct(j(e.call(d)),d,c)}return e},sub:function sub(a,b,c,d){var e=this.subs[a];if(e){this.activeSub=a;e(b,c,this,d);this.activeSub=!1}}};function b(a,b,c){var d;if(b&&"object"==_typeof(b)){if(b[a]!==void 0){d=b[a]}else if(c&&b.get&&"function"==typeof b.get){d=b.get(a)}}return d}function c(a,b,c,d,e,f){function g(){}g.prototype=a;function h(){}h.prototype=a.subs;var i,j=new g;j.subs=new h;j.subsText={};j.buf="";d=d||{};j.stackSubs=d;j.subsText=f;for(i in b){if(!d[i])d[i]=b[i]}for(i in d){j.subs[i]=d[i]}e=e||{};j.stackPartials=e;for(i in c){if(!e[i])e[i]=c[i]}for(i in e){j.partials[i]=e[i]}return j}var d=/&/g,e=/</g,f=/>/g,g=/\'/g,h=/\"/g,i=/[&<>\"\']/;function j(a){return(null===a||a===void 0?"":a)+""}function k(a){a=j(a);return i.test(a)?a.replace(d,"&amp;").replace(e,"&lt;").replace(f,"&gt;").replace(g,"&#39;").replace(h,"&quot;"):a}var l=Array.isArray||function(b){return"[object Array]"===Object.prototype.toString.call(b)}})(a)})(v);var w=u;w.Template=v.Template;w.template=w.Template;var x=new w.Template({code:function code(a,b,c){var d=this;d.b(c=c||"");d.b(d.v(d.f("data",a,b,0)));return d.fl()},partials:{},subs:{}}),y={},z={},A=Object.prototype.hasOwnProperty;y.merge=B;function B(c,a){if(1===arguments.length){for(var b=c[0],d=1;d<c.length;d++){b=B(b,c[d])}return b}for(var e in a){if("class"==e){var f=c[e]||[];c[e]=(Array.isArray(f)?f:[f]).concat(a[e]||[])}else if("style"===e){var f=F(c[e]);f=f&&";"!==f[f.length-1]?f+";":f;var g=F(a[e]);g=g&&";"!==g[g.length-1]?g+";":g;c[e]=f+g}else{c[e]=a[e]}}return c}y.classes=E;function C(a,b){for(var c="",d,e="",f=Array.isArray(b),g=0;g<a.length;g++){d=E(a[g]);if(!d)continue;f&&b[g]&&(d=I(d));c=c+e+d;e=" "}return c}function D(a){var b="",c="";for(var d in a){if(d&&a[d]&&A.call(a,d)){b=b+c+d;c=" "}}return b}function E(a,b){if(Array.isArray(a)){return C(a,b)}else if(a&&"object"===_typeof(a)){return D(a)}else{return a||""}}y.style=F;function F(a){if(!a)return"";if("object"===_typeof(a)){var b="";for(var c in a){if(A.call(a,c)){b=b+c+":"+a[c]+";"}}return b}else{return a+""}}y.attr=G;function G(a,b,c,d){if(!1===b||null==b||!b&&("class"===a||"style"===a)){return""}if(!0===b){return" "+(d?a:a+"=\""+a+"\"")}var e=_typeof(b);if(("object"===e||"function"===e)&&"function"==typeof b.toJSON){b=b.toJSON()}if("string"!=typeof b){b=JSON.stringify(b);if(!c&&-1!==b.indexOf("\"")){return" "+a+"='"+b.replace(/'/g,"&#39;")+"'"}}if(c)b=I(b);return" "+a+"=\""+b+"\""}y.attrs=function c(a,b){var d="";for(var e in a){if(A.call(a,e)){var f=a[e];if("class"===e){f=E(f);d=G(e,f,!1,b)+d;continue}if("style"===e){f=F(f)}d+=G(e,f,!1,b)}}return d};var H=/["&<>]/;y.escape=I;function I(a){var b=""+a,c=H.exec(b);if(!c)return a;var d="",e,f,g;for(e=c.index,f=0;e<b.length;e++){switch(b.charCodeAt(e)){case 34:g="&quot;";break;case 38:g="&amp;";break;case 60:g="&lt;";break;case 62:g="&gt;";break;default:continue;}if(f!==e)d+=b.substring(f,e);f=e+1;d+=g}if(f!==e)return d+b.substring(f,e);else return d}y.rethrow=J;function J(a,b,c,d){if(!(a instanceof Error))throw a;if(("undefined"!=typeof window||!b)&&!d){a.message+=" on line "+c;throw a}try{d=d||z.readFileSync(b,"utf8")}catch(b){J(a,null,c)}var e=3,f=d.split("\n"),g=Math.max(c-e,0),h=Math.min(f.length,c+e),e=f.slice(g,h).map(function(a,b){var d=b+g+1;return(d==c?"  > ":"    ")+d+"| "+a}).join("\n");a.path=b;a.message=(b||"Pug")+":"+c+"\n"+e+"\n\n"+a.message;throw a}function K(a){var b="",c,d,e;try{var f={};var g=a||{};(function(a,d){b=b+"<!DOCTYPE html>";b=b+"<head>";b=b+"<meta charset=\"utf-8\">";b=b+"<title>";b=b+"index</title>";b=b+"<link rel=\"stylesheet\" href=\"static/index.css\">";b=b+"<script src=\"static/index.js\"></script></head>";b=b+"<body>";b=b+"<div class=\"other some\">";b=b+y.escape(null==(c=d)?"":c)+"</div>";b=b+"<div class=\"dev\">";b=b+y.escape(null==(c=a)?"":c)+"</div>";if(a){b=b+"<div class=\"dev\">";b=b+"Yes</div>"}b=b+"<div class=\"bg img1\"></div>";b=b+"<img src=\"static/assets/red.png\">";b=b+"<div class=\"bg img2\"></div>";b=b+"<img src=\"static/assets/dir/violet.png\">";b=b+"<div class=\"bg img3\"></div>";b=b+"<img src=\"static/assets/index/green.png\">";b=b+"<div class=\"bg img4\"></div>";b=b+"<img src=\"static/assets/index/dir/blue.png\">";b=b+"<a href=\"localhost:8080/static/assets/red.png\"></a></body>"}).call(this,"dev"in g?g.dev:"undefined"!=typeof dev?dev:void 0,"other"in g?g.other:"undefined"!=typeof other?other:void 0)}catch(a){y.rethrow(a,d,e,f[d])}return b}console.log({yes:"yes"});console.log("other",function a(){return"Other TypeScript"});console.log("cjs",{cjs:"yes",answer:42,mixed:"foo1"});console.log("json",{other:"json"});console.log("answer",42);console.log("noop",a);console.log("curry",b);console.log("global",!!global.global);console.log("process",{nextTick:function b(a){var c=Array(arguments.length-1);if(1<arguments.length){for(var d=1;d<arguments.length;d++){c[d-1]=arguments[d]}}j.push(new p(a,c));if(1===j.length&&!k){h(o)}},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:q,addListener:q,once:q,off:q,removeListener:q,removeAllListeners:q,emit:q,binding:function b(a){throw new Error("process.binding is not supported")},cwd:function a(){return"/"},chdir:function b(a){throw new Error("process.chdir is not supported")},umask:function a(){return 0},hrtime:function b(a){var c=Math.floor,d=1e-3*s.call(r),e=c(d),f=c(1e9*(d%1));if(a){e=e-a[0];f=f-a[1];if(0>f){e--;f+=1e9}}return[e,f]},platform:"browser",release:{},config:{},uptime:function a(){var b=new Date,c=b-t;return c/1e3}});console.log(x.render({data:"yes"}));console.log("<div>Some Static</div>");console.log(K({other:"Other",some:"Some"}));console.log("~metalpipe/dev",!1);console.log({final:!0,test:!1,hash:"ABCDEFG",instance:null});console.log("production");console.log("final")})();